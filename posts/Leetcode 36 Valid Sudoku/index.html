<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><meta name="description" content="280CharsArentEnough - A blog about tech, coding, and more"/><title>280CharsArentEnough</title><meta name="next-head-count" content="4"/><link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/atom-one-dark.min.css"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin /><link rel="preload" href="/280CharsArentEnough/_next/static/css/6dcbcdbe6caa9ef7.css" as="style" crossorigin=""/><link rel="stylesheet" href="/280CharsArentEnough/_next/static/css/6dcbcdbe6caa9ef7.css" crossorigin="" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" crossorigin="" nomodule="" src="/280CharsArentEnough/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/280CharsArentEnough/_next/static/chunks/webpack-8672eacd894b3a6b.js" defer="" crossorigin=""></script><script src="/280CharsArentEnough/_next/static/chunks/framework-2c0fa632eea9ca9a.js" defer="" crossorigin=""></script><script src="/280CharsArentEnough/_next/static/chunks/main-3d28be63e8e7ba92.js" defer="" crossorigin=""></script><script src="/280CharsArentEnough/_next/static/chunks/pages/_app-6c0ff85e79cb2965.js" defer="" crossorigin=""></script><script src="/280CharsArentEnough/_next/static/chunks/996-2621915a071d1e63.js" defer="" crossorigin=""></script><script src="/280CharsArentEnough/_next/static/chunks/pages/posts/%5Bslug%5D-98f8939dd397a2a9.js" defer="" crossorigin=""></script><script src="/280CharsArentEnough/_next/static/NyHoP_d_kbc-0VeRRnbDN/_buildManifest.js" defer="" crossorigin=""></script><script src="/280CharsArentEnough/_next/static/NyHoP_d_kbc-0VeRRnbDN/_ssgManifest.js" defer="" crossorigin=""></script><style data-href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap">@font-face{font-family:'Inter';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcCO3FwrK3iLTeHuS_nVMrMxCp50SjIw2boKoduKmMEVuLyfMZs.woff) format('woff')}@font-face{font-family:'Inter';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcCO3FwrK3iLTeHuS_nVMrMxCp50SjIw2boKoduKmMEVuI6fMZs.woff) format('woff')}@font-face{font-family:'Inter';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcCO3FwrK3iLTeHuS_nVMrMxCp50SjIw2boKoduKmMEVuGKYMZs.woff) format('woff')}@font-face{font-family:'Inter';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcCO3FwrK3iLTeHuS_nVMrMxCp50SjIw2boKoduKmMEVuFuYMZs.woff) format('woff')}@font-face{font-family:'Inter';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2JL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Inter';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa0ZL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Inter';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2ZL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Inter';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa1pL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:'Inter';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2pL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Inter';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa25L7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Inter';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa1ZL7W0Q5nw.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Inter';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2JL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Inter';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa0ZL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Inter';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2ZL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Inter';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa1pL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:'Inter';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2pL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Inter';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa25L7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Inter';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa1ZL7W0Q5nw.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Inter';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2JL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Inter';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa0ZL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Inter';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2ZL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Inter';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa1pL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:'Inter';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2pL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Inter';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa25L7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Inter';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa1ZL7W0Q5nw.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Inter';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2JL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Inter';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa0ZL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Inter';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2ZL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Inter';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa1pL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:'Inter';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa2pL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Inter';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa25L7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Inter';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v18/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa1ZL7W0Q5nw.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}</style></head><body><div id="__next"><div class="container mt-4"><header class="text-center mb-5"><a class="text-decoration-none" href="/280CharsArentEnough/"><h1 class="blog-title">280CharsArentEnough</h1></a><p class="subtitle">Thoughts that don&#x27;t fit in your average tweet</p></header><main><article class="blog-post"><header class="blog-post-header"><h1>Leetcode No.36 Valid Sudoku</h1><div class="text-muted mb-4">November 7, 2024</div><div class="mb-4 timeline-categories"><span><a class="timeline-category" href="/280CharsArentEnough/?category=Leetcode%C2%A0">Leetcode </a><span style="color:#666;margin:0 4px">•</span></span><span><a class="timeline-category" href="/280CharsArentEnough/?category=Medium">Medium</a><span style="color:#666;margin:0 4px">•</span></span><span><a class="timeline-category" href="/280CharsArentEnough/?category=Data%20Structure%20and%20Algorithms">Data Structure and Algorithms</a></span></div></header><div class="blog-post-content"><h1>Understanding the Sudoku Board Validator - LeetCode Solution</h1>
<h2>Problem Overview</h2>
<p>LeetCode problem #36 asks us to validate a 9x9 Sudoku board. A valid Sudoku board must satisfy three conditions:</p>
<ol>
<li>Each row must contain digits 1-9 without repetition</li>
<li>Each column must contain digits 1-9 without repetition</li>
<li>Each 3x3 sub-box must contain digits 1-9 without repetition</li>
</ol>
<p>Note that empty cells (marked as “.”) are allowed and don’t affect validity.</p>
<h2>Solution Approach</h2>
<p>Let’s break down the solution into digestible pieces to understand how it efficiently validates a Sudoku board in a single pass.</p>
<pre class="hljs"><code>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">isValidSudoku</span>(<span class="hljs-params">self, board: <span class="hljs-type">List</span>[<span class="hljs-type">List</span>[<span class="hljs-built_in">str</span>]]</span>) -&gt; <span class="hljs-built_in">bool</span>:
    rows = collections.defaultdict(<span class="hljs-built_in">set</span>)
    cols = collections.defaultdict(<span class="hljs-built_in">set</span>)
    sqrs = collections.defaultdict(<span class="hljs-built_in">set</span>)
</code></pre>
<h3>Data Structures</h3>
<p>We use three <code>defaultdict(set)</code> to track numbers in:</p>
<ul>
<li><code>rows</code>: Each row of the board</li>
<li><code>cols</code>: Each column of the board</li>
<li><code>sqrs</code>: Each 3x3 square</li>
</ul>
<p>Using <code>defaultdict(set)</code> is clever because:</p>
<ul>
<li>It automatically creates an empty set when we access a new key</li>
<li>Sets provide O(1) lookup and insertion</li>
<li>We don’t need to initialize anything manually</li>
</ul>
<h3>The Main Algorithm</h3>
<pre class="hljs"><code>
<span class="hljs-keyword">for</span> r <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">9</span>):
    <span class="hljs-keyword">for</span> c <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">9</span>):
        <span class="hljs-keyword">if</span> board[r][c] == <span class="hljs-string">&quot;.&quot;</span>:
            <span class="hljs-keyword">continue</span>
</code></pre>
<p>We iterate through each cell. If it’s empty (“.”), we skip it.</p>
<pre class="hljs"><code>
<span class="hljs-keyword">if</span> (board[r][c] <span class="hljs-keyword">in</span> rows[r] <span class="hljs-keyword">or</span>
    board[r][c] <span class="hljs-keyword">in</span> cols[c] <span class="hljs-keyword">or</span> 
    board[r][c] <span class="hljs-keyword">in</span> sqrs[(r//<span class="hljs-number">3</span>,c//<span class="hljs-number">3</span>)]):
    <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>
</code></pre>
<p>For each number, we check three conditions:</p>
<ol>
<li>Is it already in the current row?</li>
<li>Is it already in the current column?</li>
<li>Is it already in the current 3x3 square?</li>
</ol>
<p>The expression <code>(r//3,c//3)</code> is particularly clever:</p>
<ul>
<li>It maps the 9x9 grid coordinates to 3x3 square coordinates</li>
<li>For example:
<ul>
<li>Cell (0,0) maps to square (0,0)</li>
<li>Cell (1,1) maps to square (0,0)</li>
<li>Cell (3,3) maps to square (1,1)</li>
</ul>
</li>
</ul>
<pre class="hljs"><code>
rows[r].add(board[r][c])
cols[c].add(board[r][c])
sqrs[(r//<span class="hljs-number">3</span>,c//<span class="hljs-number">3</span>)].add(board[r][c])
</code></pre>
<p>If all checks pass, we:</p>
<ol>
<li>Add the number to its row set</li>
<li>Add it to its column set</li>
<li>Add it to its 3x3 square set</li>
</ol>
<p>If we complete the entire board without finding any duplicates, return <code>True</code>.</p>
<h2>Time and Space Complexity</h2>
<ul>
<li>Time Complexity: O(1)
<ul>
<li>We always process exactly 81 cells (9x9 board)</li>
<li>Each cell operation is O(1) due to set operations</li>
</ul>
</li>
<li>Space Complexity: O(1)
<ul>
<li>We store at most 9 numbers in each set</li>
<li>We have a fixed number of sets (9 rows + 9 columns + 9 squares)</li>
</ul>
</li>
</ul>
<h2>Advantages of this Solution</h2>
<ol>
<li><strong>Single Pass</strong>: We only need to traverse the board once</li>
<li><strong>Early Exit</strong>: Returns <code>False</code> as soon as an invalid state is detected</li>
<li><strong>Clean Code</strong>: Using <code>defaultdict(set)</code> makes the code concise and readable</li>
<li><strong>Efficient Lookups</strong>: Set operations are O(1)</li>
</ol>
<h2>Common Pitfalls to Avoid</h2>
<ol>
<li>Don’t forget to check empty cells (“.”) and skip them</li>
<li>Remember that valid numbers are strings (“1” to “9”), not integers</li>
<li>The 3x3 square calculation <code>(r//3,c//3)</code> must use integer division</li>
</ol>
<h2>Conclusion</h2>
<p>This solution demonstrates how proper data structure choice (using sets) and clever coordinate mapping (for 3x3 squares) can lead to a clean and efficient solution. While there are other ways to solve this problem, this approach provides an excellent balance of readability and performance.</p>
<hr>
<p>GitHub: <a href="https://github.com/Atharva2099">@FullMLAlchemist</a>
Twitter: <a href="https://x.com/attharave">@Attharave</a></p>
</div><footer class="mt-5 pt-4 border-top"><a class="back-link" href="/280CharsArentEnough/">← Back to home</a></footer></article></main></div></div><script id="__NEXT_DATA__" type="application/json" crossorigin="">{"props":{"pageProps":{"postData":{"slug":"Leetcode 36 Valid Sudoku","htmlContent":"\u003ch1\u003eUnderstanding the Sudoku Board Validator - LeetCode Solution\u003c/h1\u003e\n\u003ch2\u003eProblem Overview\u003c/h2\u003e\n\u003cp\u003eLeetCode problem #36 asks us to validate a 9x9 Sudoku board. A valid Sudoku board must satisfy three conditions:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eEach row must contain digits 1-9 without repetition\u003c/li\u003e\n\u003cli\u003eEach column must contain digits 1-9 without repetition\u003c/li\u003e\n\u003cli\u003eEach 3x3 sub-box must contain digits 1-9 without repetition\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eNote that empty cells (marked as “.”) are allowed and don’t affect validity.\u003c/p\u003e\n\u003ch2\u003eSolution Approach\u003c/h2\u003e\n\u003cp\u003eLet’s break down the solution into digestible pieces to understand how it efficiently validates a Sudoku board in a single pass.\u003c/p\u003e\n\u003cpre class=\"hljs\"\u003e\u003ccode\u003e\n\u003cspan class=\"hljs-keyword\"\u003edef\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eisValidSudoku\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003eself, board: \u003cspan class=\"hljs-type\"\u003eList\u003c/span\u003e[\u003cspan class=\"hljs-type\"\u003eList\u003c/span\u003e[\u003cspan class=\"hljs-built_in\"\u003estr\u003c/span\u003e]]\u003c/span\u003e) -\u0026gt; \u003cspan class=\"hljs-built_in\"\u003ebool\u003c/span\u003e:\n    rows = collections.defaultdict(\u003cspan class=\"hljs-built_in\"\u003eset\u003c/span\u003e)\n    cols = collections.defaultdict(\u003cspan class=\"hljs-built_in\"\u003eset\u003c/span\u003e)\n    sqrs = collections.defaultdict(\u003cspan class=\"hljs-built_in\"\u003eset\u003c/span\u003e)\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3\u003eData Structures\u003c/h3\u003e\n\u003cp\u003eWe use three \u003ccode\u003edefaultdict(set)\u003c/code\u003e to track numbers in:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003erows\u003c/code\u003e: Each row of the board\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003ecols\u003c/code\u003e: Each column of the board\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003esqrs\u003c/code\u003e: Each 3x3 square\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eUsing \u003ccode\u003edefaultdict(set)\u003c/code\u003e is clever because:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eIt automatically creates an empty set when we access a new key\u003c/li\u003e\n\u003cli\u003eSets provide O(1) lookup and insertion\u003c/li\u003e\n\u003cli\u003eWe don’t need to initialize anything manually\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3\u003eThe Main Algorithm\u003c/h3\u003e\n\u003cpre class=\"hljs\"\u003e\u003ccode\u003e\n\u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e r \u003cspan class=\"hljs-keyword\"\u003ein\u003c/span\u003e \u003cspan class=\"hljs-built_in\"\u003erange\u003c/span\u003e(\u003cspan class=\"hljs-number\"\u003e9\u003c/span\u003e):\n    \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e c \u003cspan class=\"hljs-keyword\"\u003ein\u003c/span\u003e \u003cspan class=\"hljs-built_in\"\u003erange\u003c/span\u003e(\u003cspan class=\"hljs-number\"\u003e9\u003c/span\u003e):\n        \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e board[r][c] == \u003cspan class=\"hljs-string\"\u003e\u0026quot;.\u0026quot;\u003c/span\u003e:\n            \u003cspan class=\"hljs-keyword\"\u003econtinue\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eWe iterate through each cell. If it’s empty (“.”), we skip it.\u003c/p\u003e\n\u003cpre class=\"hljs\"\u003e\u003ccode\u003e\n\u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (board[r][c] \u003cspan class=\"hljs-keyword\"\u003ein\u003c/span\u003e rows[r] \u003cspan class=\"hljs-keyword\"\u003eor\u003c/span\u003e\n    board[r][c] \u003cspan class=\"hljs-keyword\"\u003ein\u003c/span\u003e cols[c] \u003cspan class=\"hljs-keyword\"\u003eor\u003c/span\u003e \n    board[r][c] \u003cspan class=\"hljs-keyword\"\u003ein\u003c/span\u003e sqrs[(r//\u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e,c//\u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e)]):\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-literal\"\u003eFalse\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eFor each number, we check three conditions:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eIs it already in the current row?\u003c/li\u003e\n\u003cli\u003eIs it already in the current column?\u003c/li\u003e\n\u003cli\u003eIs it already in the current 3x3 square?\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eThe expression \u003ccode\u003e(r//3,c//3)\u003c/code\u003e is particularly clever:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eIt maps the 9x9 grid coordinates to 3x3 square coordinates\u003c/li\u003e\n\u003cli\u003eFor example:\n\u003cul\u003e\n\u003cli\u003eCell (0,0) maps to square (0,0)\u003c/li\u003e\n\u003cli\u003eCell (1,1) maps to square (0,0)\u003c/li\u003e\n\u003cli\u003eCell (3,3) maps to square (1,1)\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cpre class=\"hljs\"\u003e\u003ccode\u003e\nrows[r].add(board[r][c])\ncols[c].add(board[r][c])\nsqrs[(r//\u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e,c//\u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e)].add(board[r][c])\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eIf all checks pass, we:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eAdd the number to its row set\u003c/li\u003e\n\u003cli\u003eAdd it to its column set\u003c/li\u003e\n\u003cli\u003eAdd it to its 3x3 square set\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eIf we complete the entire board without finding any duplicates, return \u003ccode\u003eTrue\u003c/code\u003e.\u003c/p\u003e\n\u003ch2\u003eTime and Space Complexity\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eTime Complexity: O(1)\n\u003cul\u003e\n\u003cli\u003eWe always process exactly 81 cells (9x9 board)\u003c/li\u003e\n\u003cli\u003eEach cell operation is O(1) due to set operations\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eSpace Complexity: O(1)\n\u003cul\u003e\n\u003cli\u003eWe store at most 9 numbers in each set\u003c/li\u003e\n\u003cli\u003eWe have a fixed number of sets (9 rows + 9 columns + 9 squares)\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003eAdvantages of this Solution\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003e\u003cstrong\u003eSingle Pass\u003c/strong\u003e: We only need to traverse the board once\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eEarly Exit\u003c/strong\u003e: Returns \u003ccode\u003eFalse\u003c/code\u003e as soon as an invalid state is detected\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eClean Code\u003c/strong\u003e: Using \u003ccode\u003edefaultdict(set)\u003c/code\u003e makes the code concise and readable\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eEfficient Lookups\u003c/strong\u003e: Set operations are O(1)\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch2\u003eCommon Pitfalls to Avoid\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003eDon’t forget to check empty cells (“.”) and skip them\u003c/li\u003e\n\u003cli\u003eRemember that valid numbers are strings (“1” to “9”), not integers\u003c/li\u003e\n\u003cli\u003eThe 3x3 square calculation \u003ccode\u003e(r//3,c//3)\u003c/code\u003e must use integer division\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch2\u003eConclusion\u003c/h2\u003e\n\u003cp\u003eThis solution demonstrates how proper data structure choice (using sets) and clever coordinate mapping (for 3x3 squares) can lead to a clean and efficient solution. While there are other ways to solve this problem, this approach provides an excellent balance of readability and performance.\u003c/p\u003e\n\u003chr\u003e\n\u003cp\u003eGitHub: \u003ca href=\"https://github.com/Atharva2099\"\u003e@FullMLAlchemist\u003c/a\u003e\nTwitter: \u003ca href=\"https://x.com/attharave\"\u003e@Attharave\u003c/a\u003e\u003c/p\u003e\n","title":"Leetcode No.36 Valid Sudoku","date":"2024-11-07","categories":["Leetcode ","Medium","Data Structure and Algorithms"],"image":"/images/leetcode-no-36-valid-sudoku.png","summary":""}},"__N_SSG":true},"page":"/posts/[slug]","query":{"slug":"Leetcode 36 Valid Sudoku"},"buildId":"NyHoP_d_kbc-0VeRRnbDN","assetPrefix":"/280CharsArentEnough","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>